<?php

// phpcs:disable
// This file was auto-generated by LWPHP CLI

namespace Kei\Lwphp\Service;

use Kei\Lwphp\Base\Service;
use Kei\Lwphp\Repository\ArticleRepository;
use Psr\Log\LoggerInterface;

class ArticleService extends Service
{
    public function __construct(
        private readonly ArticleRepository $repository,
        LoggerInterface $logger
    ) {
        parent::__construct($logger);
    }

    public function getAll(): array
    {
        return $this->repository->findAll();
    }

    public function getById(int $id)
    {
        return $this->repository->findById($id);
    }

    public function create(array $data)
    {
        return $this->execute(function () use ($data) {
            // Validate data, create entity, persist via repository
            // return $entity;
        }, 'Create Article');
    }

    public function update(int $id, array $data)
    {
        return $this->execute(function () use ($id, $data) {
            // Fetch entity, update fields, persist
            // return $entity;
        }, 'Update Article');
    }

    public function delete(int $id): bool
    {
        return $this->execute(function () use ($id) {
            return $this->repository->delete($id);
        }, 'Delete Article');
    }
}
